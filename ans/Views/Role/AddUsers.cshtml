@using ans.Models
@using Microsoft.AspNet.Identity;
@using Microsoft.AspNet.Identity.EntityFramework;
@{
    ViewBag.Title = "Добавление ролей пользователю";
}

<h2>@ViewBag.Title</h2>

@Html.Partial("~/Views/_LocalMenu.cshtml")


<form action="~/Role/AddRoleUser" method="post">
    <br />

    <div id="Users" class="form-group">

        <select class="form-control" name="Users">
            @foreach (ApplicationUser users in ViewBag.Users)
            {
                <option value="@users.Id">@users.Email</option>
            }
        </select>
        <br />


            <select class="form-control" name="Roles">
                @foreach (IdentityRole role in ViewBag.Roles)
                {
                    <option value="@role.Id">@role.Name</option>
                }
            </select>
        

       
        <button type="button" class="btn btn-primary" id="AddUser"><span class="glyphicon glyphicon-plus"></span></button>
        <button type="button" class="btn btn-danger" id="DeleteBlock"><span class="glyphicon glyphicon-trash"></span></button>
        
        

        </div>
    <br />
        <input type="submit" class="btn btn-success" value="Добавить" />

</form>




<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {

        $("body").on('click', '#DeleteBlock', function () {

            var parent = $(this).parent().parent();

            parent.remove();

        });

        $("body").on("click", "#AddUser", function () {

            var copy = $("#Users").clone();
            $("#Users").after(copy);

        });

    });
</script>